{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let DashboardComponent = class DashboardComponent {\n  constructor(bookService, accountService, typeService, categoryService, authorService) {\n    this.bookService = bookService;\n    this.accountService = accountService;\n    this.typeService = typeService;\n    this.categoryService = categoryService;\n    this.authorService = authorService;\n    this.menuItems = [{\n      label: 'Kitablar',\n      route: '/admin/book/book-list'\n    }, {\n      label: 'Tipləri',\n      route: '/admin/type/type-list'\n    }, {\n      label: 'Müəllifləri',\n      route: '/admin/author/author-list'\n    }, {\n      label: 'Kateqoriyası',\n      route: '/admin/category/category-list'\n    }, {\n      label: 'Header parametrlər',\n      route: '/admin/home/home-list'\n    }];\n    this.books = [];\n    this.types = [];\n    this.categories = [];\n    this.authors = [];\n    this.totalRecordsBook = 0;\n    this.totalRecordsType = 0;\n    this.totalRecordsAuthors = 0;\n    this.totalRecordsCategories = 0;\n    this.role = null;\n    this.role = this.accountService.getRole();\n  }\n  ngOnInit() {\n    this.getBooks();\n    this.getTypes();\n    this.getAuthors();\n    this.getCategories();\n    this.logout();\n  }\n  getBooks() {\n    this.bookService.getBooks().subscribe({\n      next: response => {\n        console.log('API Response:', response);\n        if (this.role === 'Admin' || this.role === 'Client') {\n          this.books = response;\n          this.totalRecordsBook = this.books.length;\n        }\n      },\n      error: error => console.log('Error fetching books:', error)\n    });\n  }\n  getTypes() {\n    this.typeService.getTypes().subscribe({\n      next: response => {\n        console.log('API Response:', response);\n        if (this.role === 'Admin' || this.role === 'Client') {\n          this.types = response;\n          this.totalRecordsType = this.types.length;\n        }\n      },\n      error: error => console.log('Error fetching types:', error)\n    });\n  }\n  getAuthors() {\n    this.authorService.getAuthors().subscribe({\n      next: response => {\n        console.log('API Response:', response);\n        if (this.role === 'Admin' || this.role === 'Client') {\n          this.authors = response;\n          this.totalRecordsAuthors = this.authors.length;\n        }\n      },\n      error: error => console.log('Error fetching types:', error)\n    });\n  }\n  getCategories() {\n    this.categoryService.getCategories().subscribe({\n      next: response => {\n        console.log('API Response:', response);\n        if (this.role === 'Admin' || this.role === 'Client') {\n          this.categories = response;\n          this.totalRecordsCategories = this.categories.length;\n        }\n      },\n      error: error => console.log('Error fetching categories:', error)\n    });\n  }\n  logout() {\n    this.accountService.logout();\n  }\n};\nDashboardComponent = __decorate([Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})], DashboardComponent);","map":{"version":3,"names":["Component","DashboardComponent","constructor","bookService","accountService","typeService","categoryService","authorService","menuItems","label","route","books","types","categories","authors","totalRecordsBook","totalRecordsType","totalRecordsAuthors","totalRecordsCategories","role","getRole","ngOnInit","getBooks","getTypes","getAuthors","getCategories","logout","subscribe","next","response","console","log","length","error","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\MMU\\Frontend\\client\\src\\app\\admin\\dashboard\\dashboard\\dashboard.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { BookService } from '../../book/book.service';\nimport { TypeService } from '../../type/type.service';\nimport { CategoryService } from '../../category/category.service';\nimport { AuthorService } from '../../author/author.service';\nimport { AccountService } from 'src/app/account/account.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit {\n  menuItems = [\n    { label: 'Kitablar', route: '/admin/book/book-list' },\n    { label: 'Tipləri', route: '/admin/type/type-list' },\n    { label: 'Müəllifləri', route: '/admin/author/author-list' },\n    { label: 'Kateqoriyası', route: '/admin/category/category-list' },\n    { label: 'Header parametrlər', route: '/admin/home/home-list' },\n  ];\n  books: any[] = [];\n  types: any[] = [];\n  categories: any[] = [];\n  authors: any[] = [];\n  totalRecordsBook = 0;\n  totalRecordsType = 0;\n  totalRecordsAuthors = 0;\n  totalRecordsCategories= 0;\n  role: string | null = null;\n  constructor( private bookService: BookService,private accountService: AccountService, private typeService: TypeService, private categoryService: CategoryService,private authorService: AuthorService) {\n    this.role = this.accountService.getRole();\n  }\n  ngOnInit(): void {\n    this.getBooks();\n    this.getTypes();\n    this.getAuthors();\n    this.getCategories();\n    this.logout();\n  }\n getBooks(): void { \n      this.bookService.getBooks().subscribe({\n       next: (response: any) => {\n          console.log('API Response:', response);\n          if(this.role === 'Admin'  || this.role === 'Client'){\n          this.books = response;\n            this.totalRecordsBook = this.books.length;\n          }\n        },\n          error: error => console.log('Error fetching books:', error)\n        })\n  }\n  getTypes(): void { \n    this.typeService.getTypes().subscribe({\n     next: (response: any) => {\n        console.log('API Response:', response);\n        if(this.role === 'Admin'  || this.role === 'Client'){\n          this.types = response;\n          this.totalRecordsType = this.types.length;\n        }\n      },\n        error: error => console.log('Error fetching types:', error)\n      })\n  }\n  getAuthors(): void { \n    this.authorService.getAuthors().subscribe({\n     next: (response: any) => {\n        console.log('API Response:', response);\n        if(this.role === 'Admin'  || this.role === 'Client'){\n          this.authors = response;\n          this.totalRecordsAuthors = this.authors.length;\n        }\n      },\n        error: error => console.log('Error fetching types:', error)\n      })\n  }\n  getCategories(): void { \n    this.categoryService.getCategories().subscribe({\n     next: (response: any) => {\n        console.log('API Response:', response);\n        if(this.role === 'Admin'  || this.role === 'Client'){\n          this.categories = response;\n          this.totalRecordsCategories = this.categories.length;\n        }\n      },\n        error: error => console.log('Error fetching categories:', error)\n      })\n  }\n\n  logout() {\n    this.accountService.logout();\n  }\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}