{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let TypeListComponent = class TypeListComponent {\n  constructor(typeService, router) {\n    this.typeService = typeService;\n    this.router = router;\n    this.types = [];\n    this.typeToDelete = null;\n  }\n  ngOnInit() {\n    this.loadType();\n  }\n  loadType() {\n    this.typeService.getTypes().subscribe({\n      next: response => {\n        console.log('API Response:', response);\n        this.types = response;\n      },\n      error: error => console.log('Error fetching books:', error)\n    });\n  }\n  openDeleteModal(type) {\n    this.typeToDelete = type;\n    const deleteModal = document.getElementById('deleteModal');\n    if (deleteModal) {\n      const modal = new window.bootstrap.Modal(deleteModal); // 'window as any' ile tip belirtme\n      modal.show();\n    }\n  }\n  confirmDelete() {\n    if (this.typeToDelete) {\n      // API çağrısı yapılır\n      this.typeService.deleteType(this.typeToDelete.id).subscribe({\n        next: response => {\n          // Silme işleminden sonra kitap listesine ekleme\n          console.log('Delete response:', response); // '4: Deleted.'\n          this.types = this.types.filter(b => b.id !== this.typeToDelete.id);\n          // Modalı kapat\n          const deleteModal = document.getElementById('deleteModal');\n          if (deleteModal) {\n            const modalInstance = window.bootstrap.Modal.getInstance(deleteModal);\n            modalInstance?.hide(); // Modal'ı kapat\n          }\n          // Kitaplar silindikten sonra yönlendirme yapılır\n          this.router.navigate(['/admin/book/book-list']);\n          this.bookToDelete = null;\n        },\n        error: err => {\n          console.error('Error deleting book:', err);\n        }\n      });\n    }\n  }\n};\nTypeListComponent = __decorate([Component({\n  selector: 'app-type-list',\n  templateUrl: './type-list.component.html',\n  styleUrls: ['./type-list.component.scss']\n})], TypeListComponent);","map":{"version":3,"names":["Component","TypeListComponent","constructor","typeService","router","types","typeToDelete","ngOnInit","loadType","getTypes","subscribe","next","response","console","log","error","openDeleteModal","type","deleteModal","document","getElementById","modal","window","bootstrap","Modal","show","confirmDelete","deleteType","id","filter","b","modalInstance","getInstance","hide","navigate","bookToDelete","err","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\MMU\\Frontend\\client\\src\\app\\admin\\type\\type-list\\type-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Type } from 'src/app/shared/models/type';\nimport { TypeService } from '../type.service';\n\n@Component({\n  selector: 'app-type-list',\n  templateUrl: './type-list.component.html',\n  styleUrls: ['./type-list.component.scss']\n})\nexport class TypeListComponent implements OnInit {\n  types: any[] = [];\n  typeToDelete: any = null;\n constructor(private typeService: TypeService,  private router: Router) {}\n  ngOnInit() {\n   this.loadType();\n }\n loadType() {\n  this.typeService.getTypes().subscribe({\n   next: (response: any) => {\n      console.log('API Response:', response);\n        this.types = response;\n    },\n      error: error => console.log('Error fetching books:', error)\n    })\n}\n\nopenDeleteModal(type: any) {\n  this.typeToDelete = type;\n  const deleteModal = document.getElementById('deleteModal');\n  if (deleteModal) {\n    const modal = new (window as any).bootstrap.Modal(deleteModal); // 'window as any' ile tip belirtme\n    modal.show();\n  }\n}\nconfirmDelete() {\n  if (this.typeToDelete) {\n    // API çağrısı yapılır\n    this.typeService.deleteType(this.typeToDelete.id).subscribe({\n      next: (response: string) => {\n        // Silme işleminden sonra kitap listesine ekleme\n        console.log('Delete response:', response); // '4: Deleted.'\n        this.types = this.types.filter((b) => b.id !== this.typeToDelete.id);\n\n        // Modalı kapat\n        const deleteModal = document.getElementById('deleteModal');\n        if (deleteModal) {\n          const modalInstance = (window as any).bootstrap.Modal.getInstance(deleteModal);\n          modalInstance?.hide(); // Modal'ı kapat\n        }\n\n        // Kitaplar silindikten sonra yönlendirme yapılır\n        this.router.navigate(['/admin/book/book-list']);\n        this.bookToDelete = null;\n      },\n      error: (err) => {\n        console.error('Error deleting book:', err);\n      },\n    });\n  }\n}\n\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAG7BC,YAAoBC,WAAwB,EAAWC,MAAc;IAAjD,KAAAD,WAAW,GAAXA,WAAW;IAAwB,KAAAC,MAAM,GAANA,MAAM;IAF5D,KAAAC,KAAK,GAAU,EAAE;IACjB,KAAAC,YAAY,GAAQ,IAAI;EAC+C;EACvEC,QAAQA,CAAA;IACP,IAAI,CAACC,QAAQ,EAAE;EACjB;EACAA,QAAQA,CAAA;IACP,IAAI,CAACL,WAAW,CAACM,QAAQ,EAAE,CAACC,SAAS,CAAC;MACrCC,IAAI,EAAGC,QAAa,IAAI;QACrBC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,QAAQ,CAAC;QACpC,IAAI,CAACP,KAAK,GAAGO,QAAQ;MACzB,CAAC;MACCG,KAAK,EAAEA,KAAK,IAAIF,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEC,KAAK;KAC3D,CAAC;EACN;EAEAC,eAAeA,CAACC,IAAS;IACvB,IAAI,CAACX,YAAY,GAAGW,IAAI;IACxB,MAAMC,WAAW,GAAGC,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC;IAC1D,IAAIF,WAAW,EAAE;MACf,MAAMG,KAAK,GAAG,IAAKC,MAAc,CAACC,SAAS,CAACC,KAAK,CAACN,WAAW,CAAC,CAAC,CAAC;MAChEG,KAAK,CAACI,IAAI,EAAE;;EAEhB;EACAC,aAAaA,CAAA;IACX,IAAI,IAAI,CAACpB,YAAY,EAAE;MACrB;MACA,IAAI,CAACH,WAAW,CAACwB,UAAU,CAAC,IAAI,CAACrB,YAAY,CAACsB,EAAE,CAAC,CAAClB,SAAS,CAAC;QAC1DC,IAAI,EAAGC,QAAgB,IAAI;UACzB;UACAC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEF,QAAQ,CAAC,CAAC,CAAC;UAC3C,IAAI,CAACP,KAAK,GAAG,IAAI,CAACA,KAAK,CAACwB,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACF,EAAE,KAAK,IAAI,CAACtB,YAAY,CAACsB,EAAE,CAAC;UAEpE;UACA,MAAMV,WAAW,GAAGC,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAC;UAC1D,IAAIF,WAAW,EAAE;YACf,MAAMa,aAAa,GAAIT,MAAc,CAACC,SAAS,CAACC,KAAK,CAACQ,WAAW,CAACd,WAAW,CAAC;YAC9Ea,aAAa,EAAEE,IAAI,EAAE,CAAC,CAAC;;UAGzB;UACA,IAAI,CAAC7B,MAAM,CAAC8B,QAAQ,CAAC,CAAC,uBAAuB,CAAC,CAAC;UAC/C,IAAI,CAACC,YAAY,GAAG,IAAI;QAC1B,CAAC;QACDpB,KAAK,EAAGqB,GAAG,IAAI;UACbvB,OAAO,CAACE,KAAK,CAAC,sBAAsB,EAAEqB,GAAG,CAAC;QAC5C;OACD,CAAC;;EAEN;CAGC;AArDYnC,iBAAiB,GAAAoC,UAAA,EAL7BrC,SAAS,CAAC;EACTsC,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,C,EACWvC,iBAAiB,CAqD7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}