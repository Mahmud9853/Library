{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { BookParams } from 'src/app/shared/models/bookParams';\nexport let BookListComponent = class BookListComponent {\n  constructor(bookService, fb) {\n    this.bookService = bookService;\n    this.fb = fb;\n    this.Math = Math;\n    this.books = [];\n    this.totalRecords = 0;\n    this.categories = [];\n    this.types = [];\n    this.authors = [];\n    this.bookParams = new BookParams();\n  }\n  ngOnInit() {\n    // this.getBooks();\n    // this.loadType();\n    // this.loadAuthor();\n    this.getBookParams();\n    this.loadFilters();\n  }\n  getBookParams() {\n    this.bookService.getBookss(this.bookParams).subscribe(response => {\n      console.log('API Response books:', response);\n      this.books = response.$values;\n      // this.totalRecords = response.totalRecords;\n    });\n  }\n\n  loadFilters() {\n    console.log('API Response types:', this.types);\n    this.bookService.getTypes().subscribe(types => this.types = types);\n    console.log('API Response authors:', this.authors);\n    this.bookService.getAuthors().subscribe(authors => this.authors = authors);\n  }\n  onSearch(search) {\n    this.bookParams.search = search;\n    this.bookParams.pageNumber = 1;\n    this.getBookParams();\n  }\n};\n__decorate([ViewChild('search')], BookListComponent.prototype, \"searchTerm\", void 0);\nBookListComponent = __decorate([Component({\n  selector: 'app-book-list',\n  templateUrl: './book-list.component.html',\n  styleUrls: ['./book-list.component.scss']\n})], BookListComponent);","map":{"version":3,"names":["Component","ViewChild","BookParams","BookListComponent","constructor","bookService","fb","Math","books","totalRecords","categories","types","authors","bookParams","ngOnInit","getBookParams","loadFilters","getBookss","subscribe","response","console","log","$values","getTypes","getAuthors","onSearch","search","pageNumber","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\MMU\\Frontend\\client\\src\\app\\admin\\book\\book-list\\book-list.component.ts"],"sourcesContent":["import { Component, ElementRef, OnInit, ViewChild} from '@angular/core';\nimport {Book} from 'src/app/shared/models/book'; \nimport { BookService } from '../book.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookParams } from 'src/app/shared/models/bookParams';\nimport { TypeService } from '../../type/type.service';\nimport { AuthorService } from '../../author/author.service';\nimport { Author } from 'src/app/shared/models/author';\nimport { Category } from 'src/app/shared/models/category';\nimport { Type } from 'src/app/shared/models/type';\nimport { FormBuilder, FormGroup } from '@angular/forms';\n\n@Component({\n  selector: 'app-book-list',\n  templateUrl: './book-list.component.html',\n  styleUrls: ['./book-list.component.scss']\n})\nexport class BookListComponent implements OnInit{\n  Math = Math;\n  @ViewChild('search') searchTerm?: ElementRef;\n  books: any[] = [];\n  totalRecords = 0;\n  categories: Category[] = [];\n  types: any[] = [];\n  authors: any[] = [];\n\n  bookParams: BookParams = new BookParams();\n  constructor(private bookService: BookService, private fb: FormBuilder) {}\n  \n ngOnInit(): void {\n    // this.getBooks();\n    // this.loadType();\n    // this.loadAuthor();\n    this.getBookParams();\n    this.loadFilters()\n  \n  }\n  getBookParams() : void {\n    this.bookService.getBookss(this.bookParams).subscribe(\n       (response: any) => {\n      console.log('API Response books:', response );\n      this.books = response.$values;\n      // this.totalRecords = response.totalRecords;\n    });\n  }\n  loadFilters(): void {\n    console.log('API Response types:', this.types );\n    this.bookService.getTypes().subscribe((types) => (this.types = types));\n    console.log('API Response authors:', this.authors  );\n    this.bookService.getAuthors().subscribe((authors) => (this.authors = authors));\n  }\n  onSearch(search: string): void{\n    this.bookParams.search = search;\n    this.bookParams.pageNumber = 1;\n    this.getBookParams();\n  }\n\n    // getBooks(): void { \n    //   this.bookService.getBooks().subscribe({\n    //    next: (response: any) => {\n    //       console.log('API Response:', response);\n    //         this.books = response;\n    //     },\n    //       error: error => console.log('Error fetching books:', error)\n    //     })\n    // }\n    // loadType() {\n    //   this.bookService.getTypes().subscribe({\n    //    next: (response: any) => {\n    //       console.log('API Response type:', response);\n    //         this.types = response;\n    //     },\n    //       error: error => console.log('Error fetching books:', error)\n    //     })\n    // }\n    // loadAuthor() {\n    //   this.bookService.getAuthors().subscribe({\n    //    next: (response: any) => {\n    //       console.log('API Response author:', response);\n    //         this.authors = response;\n    //     },\n    //       error: error => console.log('Error fetching books:', error)\n    //     })\n    // }\n    \n  \n \n  \n  \n  \n \n  }\n"],"mappings":";AAAA,SAASA,SAAS,EAAsBC,SAAS,QAAO,eAAe;AAIvE,SAASC,UAAU,QAAQ,kCAAkC;AAatD,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAU5BC,YAAoBC,WAAwB,EAAUC,EAAe;IAAjD,KAAAD,WAAW,GAAXA,WAAW;IAAuB,KAAAC,EAAE,GAAFA,EAAE;IATxD,KAAAC,IAAI,GAAGA,IAAI;IAEX,KAAAC,KAAK,GAAU,EAAE;IACjB,KAAAC,YAAY,GAAG,CAAC;IAChB,KAAAC,UAAU,GAAe,EAAE;IAC3B,KAAAC,KAAK,GAAU,EAAE;IACjB,KAAAC,OAAO,GAAU,EAAE;IAEnB,KAAAC,UAAU,GAAe,IAAIX,UAAU,EAAE;EAC+B;EAEzEY,QAAQA,CAAA;IACL;IACA;IACA;IACA,IAAI,CAACC,aAAa,EAAE;IACpB,IAAI,CAACC,WAAW,EAAE;EAEpB;EACAD,aAAaA,CAAA;IACX,IAAI,CAACV,WAAW,CAACY,SAAS,CAAC,IAAI,CAACJ,UAAU,CAAC,CAACK,SAAS,CACjDC,QAAa,IAAI;MACnBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEF,QAAQ,CAAE;MAC7C,IAAI,CAACX,KAAK,GAAGW,QAAQ,CAACG,OAAO;MAC7B;IACF,CAAC,CAAC;EACJ;;EACAN,WAAWA,CAAA;IACTI,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAACV,KAAK,CAAE;IAC/C,IAAI,CAACN,WAAW,CAACkB,QAAQ,EAAE,CAACL,SAAS,CAAEP,KAAK,IAAM,IAAI,CAACA,KAAK,GAAGA,KAAM,CAAC;IACtES,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE,IAAI,CAACT,OAAO,CAAG;IACpD,IAAI,CAACP,WAAW,CAACmB,UAAU,EAAE,CAACN,SAAS,CAAEN,OAAO,IAAM,IAAI,CAACA,OAAO,GAAGA,OAAQ,CAAC;EAChF;EACAa,QAAQA,CAACC,MAAc;IACrB,IAAI,CAACb,UAAU,CAACa,MAAM,GAAGA,MAAM;IAC/B,IAAI,CAACb,UAAU,CAACc,UAAU,GAAG,CAAC;IAC9B,IAAI,CAACZ,aAAa,EAAE;EACtB;CAoCC;AAxEoBa,UAAA,EAApB3B,SAAS,CAAC,QAAQ,CAAC,C,oDAAyB;AAFlCE,iBAAiB,GAAAyB,UAAA,EAL7B5B,SAAS,CAAC;EACT6B,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,C,EACW5B,iBAAiB,CA0E3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}