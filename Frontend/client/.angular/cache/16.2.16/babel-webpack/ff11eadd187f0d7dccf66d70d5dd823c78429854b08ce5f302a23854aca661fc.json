{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../account.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(accountService, router) {\n    this.accountService = accountService;\n    this.router = router;\n    this.model = {};\n    this.loading = false;\n  }\n  login() {\n    this.loading = true;\n    this.accountService.login(this.model).subscribe(response => {\n      console.log(\"API response success:\", response);\n      localStorage.setItem('token', response.token);\n      localStorage.setItem('role', response.role);\n      this.router.navigate(['/home']);\n    }, error => {\n      this.toastr.error('Invalid username or password');\n      this.loading = false;\n    });\n  }\n  static {\n    this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 17,\n      vars: 3,\n      consts: [[1, \"background-image\"], [1, \"overlay\"], [1, \"content\"], [1, \"login-container\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"userName\"], [\"type\", \"text\", \"id\", \"userName\", \"name\", \"userName\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵelement(1, \"div\", 1);\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"h2\");\n          i0.ɵɵtext(5, \"Login\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"form\", 4);\n          i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_6_listener() {\n            return ctx.login();\n          });\n          i0.ɵɵelementStart(7, \"div\", 5)(8, \"label\", 6);\n          i0.ɵɵtext(9, \"Username\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"input\", 7);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_10_listener($event) {\n            return ctx.model.userName = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\", 5)(12, \"label\", 8);\n          i0.ɵɵtext(13, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"input\", 9);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_14_listener($event) {\n            return ctx.model.password = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"button\", 10);\n          i0.ɵɵtext(16, \"Login\");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngModel\", ctx.model.userName);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.model.password);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.loading);\n        }\n      },\n      dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n      styles: [\"\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\t\\\"use strict\\\";\\n\\n \\t\\n\\n \\t\\n\\n })()[_ngcontent-%COMP%]\\n;\"]\n    });\n  }\n}","map":{"version":3,"names":["LoginComponent","constructor","accountService","router","model","loading","login","subscribe","response","console","log","localStorage","setItem","token","role","navigate","error","toastr","i0","ɵɵdirectiveInject","i1","AccountService","i2","Router","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginComponent_Template_form_ngSubmit_6_listener","LoginComponent_Template_input_ngModelChange_10_listener","$event","userName","LoginComponent_Template_input_ngModelChange_14_listener","password","ɵɵadvance","ɵɵproperty"],"sources":["D:\\MMU\\Frontend\\client\\src\\app\\account\\login\\login.component.ts","D:\\MMU\\Frontend\\client\\src\\app\\account\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AccountService } from '../account.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  model: any = {};\n  loading = false;\n\n  constructor(private accountService: AccountService, private router: Router) {}\n\n  login() {\n    this.loading = true;\n    this.accountService.login(this.model).subscribe(\n      (response: any) => {\n        console.log(\"API response success:\", response)\n        localStorage.setItem('token', response.token);\n        localStorage.setItem('role', response.role);\n        this.router.navigate(['/home']);\n      },\n      (error) => {\n        this.toastr.error('Invalid username or password');\n        this.loading = false;\n      }\n    );\n  }\n}\n","<div class=\"background-image\">\n  <div class=\"overlay\"></div>\n  <div class=\"content\">\n    <div class=\"login-container\">\n      <h2>Login</h2>\n      <form (ngSubmit)=\"login()\">\n        <div class=\"form-group\">\n          <label for=\"userName\">Username</label>\n          <input type=\"text\" id=\"userName\" class=\"form-control\" [(ngModel)]=\"model.userName\" name=\"userName\" required />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"password\">Password</label>\n          <input type=\"password\" id=\"password\" class=\"form-control\" [(ngModel)]=\"model.password\" name=\"password\" required />\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"loading\">Login</button>\n      </form>\n    </div>\n    \n  </div>\n</div>\n"],"mappings":";;;;AASA,OAAM,MAAOA,cAAc;EAIzBC,YAAoBC,cAA8B,EAAUC,MAAc;IAAtD,KAAAD,cAAc,GAAdA,cAAc;IAA0B,KAAAC,MAAM,GAANA,MAAM;IAHlE,KAAAC,KAAK,GAAQ,EAAE;IACf,KAAAC,OAAO,GAAG,KAAK;EAE8D;EAE7EC,KAAKA,CAAA;IACH,IAAI,CAACD,OAAO,GAAG,IAAI;IACnB,IAAI,CAACH,cAAc,CAACI,KAAK,CAAC,IAAI,CAACF,KAAK,CAAC,CAACG,SAAS,CAC5CC,QAAa,IAAI;MAChBC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEF,QAAQ,CAAC;MAC9CG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,QAAQ,CAACK,KAAK,CAAC;MAC7CF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEJ,QAAQ,CAACM,IAAI,CAAC;MAC3C,IAAI,CAACX,MAAM,CAACY,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;IACjC,CAAC,EACAC,KAAK,IAAI;MACR,IAAI,CAACC,MAAM,CAACD,KAAK,CAAC,8BAA8B,CAAC;MACjD,IAAI,CAACX,OAAO,GAAG,KAAK;IACtB,CAAC,CACF;EACH;;;uBApBWL,cAAc,EAAAkB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,MAAA;IAAA;EAAA;;;YAAdvB,cAAc;MAAAwB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCT3BZ,EAAA,CAAAc,cAAA,aAA8B;UAC5Bd,EAAA,CAAAe,SAAA,aAA2B;UAC3Bf,EAAA,CAAAc,cAAA,aAAqB;UAEbd,EAAA,CAAAgB,MAAA,YAAK;UAAAhB,EAAA,CAAAiB,YAAA,EAAK;UACdjB,EAAA,CAAAc,cAAA,cAA2B;UAArBd,EAAA,CAAAkB,UAAA,sBAAAC,iDAAA;YAAA,OAAYN,GAAA,CAAAzB,KAAA,EAAO;UAAA,EAAC;UACxBY,EAAA,CAAAc,cAAA,aAAwB;UACAd,EAAA,CAAAgB,MAAA,eAAQ;UAAAhB,EAAA,CAAAiB,YAAA,EAAQ;UACtCjB,EAAA,CAAAc,cAAA,gBAA8G;UAAxDd,EAAA,CAAAkB,UAAA,2BAAAE,wDAAAC,MAAA;YAAA,OAAAR,GAAA,CAAA3B,KAAA,CAAAoC,QAAA,GAAAD,MAAA;UAAA,EAA4B;UAAlFrB,EAAA,CAAAiB,YAAA,EAA8G;UAEhHjB,EAAA,CAAAc,cAAA,cAAwB;UACAd,EAAA,CAAAgB,MAAA,gBAAQ;UAAAhB,EAAA,CAAAiB,YAAA,EAAQ;UACtCjB,EAAA,CAAAc,cAAA,gBAAkH;UAAxDd,EAAA,CAAAkB,UAAA,2BAAAK,wDAAAF,MAAA;YAAA,OAAAR,GAAA,CAAA3B,KAAA,CAAAsC,QAAA,GAAAH,MAAA;UAAA,EAA4B;UAAtFrB,EAAA,CAAAiB,YAAA,EAAkH;UAEpHjB,EAAA,CAAAc,cAAA,kBAAmE;UAAAd,EAAA,CAAAgB,MAAA,aAAK;UAAAhB,EAAA,CAAAiB,YAAA,EAAS;;;UANzBjB,EAAA,CAAAyB,SAAA,IAA4B;UAA5BzB,EAAA,CAAA0B,UAAA,YAAAb,GAAA,CAAA3B,KAAA,CAAAoC,QAAA,CAA4B;UAIxBtB,EAAA,CAAAyB,SAAA,GAA4B;UAA5BzB,EAAA,CAAA0B,UAAA,YAAAb,GAAA,CAAA3B,KAAA,CAAAsC,QAAA,CAA4B;UAE1CxB,EAAA,CAAAyB,SAAA,GAAoB;UAApBzB,EAAA,CAAA0B,UAAA,aAAAb,GAAA,CAAA1B,OAAA,CAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}