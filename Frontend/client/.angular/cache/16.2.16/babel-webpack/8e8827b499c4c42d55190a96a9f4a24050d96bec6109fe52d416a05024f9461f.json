{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction ChangeRoleComponent_option_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const role_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", role_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(role_r1);\n  }\n}\nexport let ChangeRoleComponent = /*#__PURE__*/(() => {\n  class ChangeRoleComponent {\n    constructor(userService, fb, route, router) {\n      this.userService = userService;\n      this.fb = fb;\n      this.route = route;\n      this.router = router;\n      this.roles = [];\n      this.userId = null;\n      this.changeRoleForm = this.fb.group({\n        roles: ['']\n      });\n    }\n    ngOnInit() {\n      this.userId = this.route.snapshot.paramMap.get('id');\n      this.loadRoles();\n    }\n    loadRoles() {\n      this.userService.getRoles().subscribe({\n        next: roles => this.roles = roles,\n        error: err => console.error('Error loading roles', err)\n      });\n    }\n    onSubmit() {\n      const selectedRole = this.changeRoleForm.get('roles')?.value;\n      if (!selectedRole) {\n        alert('Please select a role.');\n        return;\n      }\n      if (this.userId) {\n        this.userService.changeUserRole(this.userId, [selectedRole]).subscribe({\n          next: () => {\n            alert('Role updated successfully');\n            this.router.navigate(['/admin/user/user-list']); // Admin paneline dön\n          },\n\n          error: err => console.error('Error updating role', err)\n        });\n      }\n    }\n    static {\n      this.ɵfac = function ChangeRoleComponent_Factory(t) {\n        return new (t || ChangeRoleComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ChangeRoleComponent,\n        selectors: [[\"app-change-role\"]],\n        decls: 14,\n        vars: 2,\n        consts: [[1, \"container\", \"mt-4\"], [1, \"card\"], [1, \"card-header\", \"bg-primary\", \"text-white\"], [1, \"card-title\", \"mb-0\", \"text-center\"], [1, \"card-body\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [\"for\", \"roles\", 1, \"form-label\"], [\"id\", \"roles\", \"formControlName\", \"roles\", 1, \"form-select\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"w-100\"], [3, \"value\"]],\n        template: function ChangeRoleComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\", 3);\n            i0.ɵɵtext(4, \"\\u0130stifad\\u0259\\u00E7i Rolun D\\u0259yi\\u015F\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(5, \"div\", 4)(6, \"form\", 5);\n            i0.ɵɵlistener(\"ngSubmit\", function ChangeRoleComponent_Template_form_ngSubmit_6_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(7, \"div\", 6)(8, \"label\", 7);\n            i0.ɵɵtext(9, \"Role Se\\u00E7:\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"select\", 8);\n            i0.ɵɵtemplate(11, ChangeRoleComponent_option_11_Template, 2, 2, \"option\", 9);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(12, \"button\", 10);\n            i0.ɵɵtext(13, \"Rolun yenil\\u0259\");\n            i0.ɵɵelementEnd()()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"formGroup\", ctx.changeRoleForm);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngForOf\", ctx.roles);\n          }\n        },\n        dependencies: [i4.NgForOf, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName]\n      });\n    }\n  }\n  return ChangeRoleComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}