{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport let UserEditComponent = /*#__PURE__*/(() => {\n  class UserEditComponent {\n    constructor(userService, route, router) {\n      this.userService = userService;\n      this.route = route;\n      this.router = router;\n      this.user = {\n        id: '',\n        email: '',\n        userName: '',\n        name: '',\n        surname: '',\n        birthDate: ''\n      };\n    }\n    ngOnInit() {\n      const userId = this.route.snapshot.params['id'];\n      this.loadUser(userId);\n      // Burada kullanıcı detaylarını API'den çekebilirsiniz\n    }\n\n    loadUser(userId) {\n      this.userService.getUserById(userId).subscribe({\n        next: response => {\n          console.log('User loaded successfully:', response);\n          this.user = response;\n          if (this.user.birthDate) {\n            this.user.birthDate = this.user.birthDate.split('T')[0];\n          }\n        },\n        error: error => {\n          console.error('Error loading user:', error);\n        }\n      });\n    }\n    updateUser() {\n      const userId = this.route.snapshot.params['id'];\n      const formData = new FormData();\n      formData.append('userName', this.user.userName); // Kullanıcı adı\n      formData.append('email', this.user.email); // Email\n      formData.append('name', this.user.name); // Ad\n      formData.append('surname', this.user.surname); // Soyad\n      const formattedDate = new Date(this.user.birthDate).toISOString().split('T')[0]; // Doğum tarihini yyyy-MM-dd formatına çeviriyoruz\n      formData.append('birthDate', formattedDate); // Doğum tarihi\n      this.userService.updateUser(userId, formData).subscribe({\n        next: response => {\n          console.log('Kullanıcı başarıyla güncellendi:', response);\n          this.router.navigate(['admin/user/user-list']); // Kullanıcı listesine yönlendirme\n        },\n\n        error: error => {\n          console.error('Kullanıcı güncellenirken hata oluştu:', error);\n        }\n      });\n    }\n    static {\n      this.ɵfac = function UserEditComponent_Factory(t) {\n        return new (t || UserEditComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: UserEditComponent,\n        selectors: [[\"app-user-edit\"]],\n        decls: 26,\n        vars: 5,\n        consts: [[1, \"container\", \"mt-5\"], [1, \"mb-4\", \"text-center\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"userName\"], [\"type\", \"text\", \"id\", \"userName\", \"name\", \"userName\", \"placeholder\", \"Enter username\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"placeholder\", \"Enter email\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"placeholder\", \"Enter name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"surname\"], [\"type\", \"text\", \"id\", \"surname\", \"name\", \"surname\", \"placeholder\", \"Enter surname\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"birthDate\"], [\"type\", \"date\", \"id\", \"birthDate\", \"name\", \"birthDate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mt-3\"]],\n        template: function UserEditComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n            i0.ɵɵtext(2, \"Update User\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"form\", 2);\n            i0.ɵɵlistener(\"ngSubmit\", function UserEditComponent_Template_form_ngSubmit_3_listener() {\n              return ctx.updateUser();\n            });\n            i0.ɵɵelementStart(4, \"div\", 3)(5, \"label\", 4);\n            i0.ɵɵtext(6, \"Username\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"input\", 5);\n            i0.ɵɵlistener(\"ngModelChange\", function UserEditComponent_Template_input_ngModelChange_7_listener($event) {\n              return ctx.user.userName = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"div\", 3)(9, \"label\", 6);\n            i0.ɵɵtext(10, \"Email\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"input\", 7);\n            i0.ɵɵlistener(\"ngModelChange\", function UserEditComponent_Template_input_ngModelChange_11_listener($event) {\n              return ctx.user.email = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(12, \"div\", 3)(13, \"label\", 8);\n            i0.ɵɵtext(14, \"Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"input\", 9);\n            i0.ɵɵlistener(\"ngModelChange\", function UserEditComponent_Template_input_ngModelChange_15_listener($event) {\n              return ctx.user.name = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(16, \"div\", 3)(17, \"label\", 10);\n            i0.ɵɵtext(18, \"Surname\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"input\", 11);\n            i0.ɵɵlistener(\"ngModelChange\", function UserEditComponent_Template_input_ngModelChange_19_listener($event) {\n              return ctx.user.surname = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(20, \"div\", 3)(21, \"label\", 12);\n            i0.ɵɵtext(22, \"Do\\u011Fum Tarixi\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(23, \"input\", 13);\n            i0.ɵɵlistener(\"ngModelChange\", function UserEditComponent_Template_input_ngModelChange_23_listener($event) {\n              return ctx.user.birthDate = $event;\n            });\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(24, \"button\", 14);\n            i0.ɵɵtext(25, \"Update User\");\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngModel\", ctx.user.userName);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.user.email);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.user.name);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.user.surname);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngModel\", ctx.user.birthDate);\n          }\n        },\n        dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm]\n      });\n    }\n  }\n  return UserEditComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}