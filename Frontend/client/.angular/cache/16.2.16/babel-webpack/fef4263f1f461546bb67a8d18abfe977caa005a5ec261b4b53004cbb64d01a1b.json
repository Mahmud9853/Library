{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let LoginComponent = class LoginComponent {\n  constructor(fb, accountService, router, route) {\n    this.fb = fb;\n    this.accountService = accountService;\n    this.router = router;\n    this.route = route;\n    this.errorMessage = null;\n    this.loginForm = this.fb.group({\n      userName: ['', Validators.required],\n      password: ['', [Validators.required]] // Password input field\n    });\n  }\n\n  get userName() {\n    return this.loginForm.get('userName');\n  }\n  get password() {\n    return this.loginForm.get('password');\n  }\n  onSubmit() {\n    if (this.loginForm.invalid) {\n      console.error('Form is invalid');\n      return;\n    }\n    const loginData = {\n      userName: this.loginForm.get('userName')?.value,\n      password: this.loginForm.get('password')?.value\n    };\n    console.log('Login Data:', loginData); // Log the data being sent\n    this.accountService.login(loginData).subscribe({\n      next: response => {\n        console.log('Login successful:', response);\n        const returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/home';\n        this.router.navigate([returnUrl]);\n      },\n      error: error => {\n        console.error('Login failed:', error);\n        this.errorMessage = 'Invalid username or password';\n      }\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})], LoginComponent);","map":{"version":3,"names":["Component","Validators","LoginComponent","constructor","fb","accountService","router","route","errorMessage","loginForm","group","userName","required","password","get","onSubmit","invalid","console","error","loginData","value","log","login","subscribe","next","response","returnUrl","snapshot","queryParams","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\MMU\\Frontend\\client\\src\\app\\account\\login\\login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AbstractControl, FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AccountService } from '../account.service';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent {\n  loginForm: FormGroup;\n  errorMessage: string | null = null;\n\n  constructor(private fb: FormBuilder, private accountService: AccountService, private router: Router, private route:ActivatedRoute) {\n    this.loginForm = this.fb.group({\n      userName: ['', Validators.required], // UserName input field\n      password: ['', [Validators.required]], // Password input field\n    });\n  }\n\n  get userName(): AbstractControl {\n    return this.loginForm.get('userName')!;\n  }\n\n  get password(): AbstractControl {\n    return this.loginForm.get('password')!;\n  }\n\n  onSubmit(): void {\n    if (this.loginForm.invalid) {\n      console.error('Form is invalid');\n      return;\n    }\n  \n    const loginData = {\n      userName: this.loginForm.get('userName')?.value,\n      password: this.loginForm.get('password')?.value,\n    };\n  \n    console.log('Login Data:', loginData); // Log the data being sent\n  \n    this.accountService.login(loginData).subscribe({\n      next: (response) => {\n        console.log('Login successful:', response);\n        const returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/home';\n        this.router.navigate([returnUrl]); \n      },\n      error: (error) => {\n        console.error('Login failed:', error);\n        this.errorMessage = 'Invalid username or password';\n      }\n    });\n  }\n  \n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAAkDC,UAAU,QAAQ,gBAAgB;AAU7E,WAAMC,cAAc,GAApB,MAAMA,cAAc;EAIzBC,YAAoBC,EAAe,EAAUC,cAA8B,EAAUC,MAAc,EAAUC,KAAoB;IAA7G,KAAAH,EAAE,GAAFA,EAAE;IAAuB,KAAAC,cAAc,GAAdA,cAAc;IAA0B,KAAAC,MAAM,GAANA,MAAM;IAAkB,KAAAC,KAAK,GAALA,KAAK;IAFlH,KAAAC,YAAY,GAAkB,IAAI;IAGhC,IAAI,CAACC,SAAS,GAAG,IAAI,CAACL,EAAE,CAACM,KAAK,CAAC;MAC7BC,QAAQ,EAAE,CAAC,EAAE,EAAEV,UAAU,CAACW,QAAQ,CAAC;MACnCC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACZ,UAAU,CAACW,QAAQ,CAAC,CAAC,CAAE;KACxC,CAAC;EACJ;;EAEA,IAAID,QAAQA,CAAA;IACV,OAAO,IAAI,CAACF,SAAS,CAACK,GAAG,CAAC,UAAU,CAAE;EACxC;EAEA,IAAID,QAAQA,CAAA;IACV,OAAO,IAAI,CAACJ,SAAS,CAACK,GAAG,CAAC,UAAU,CAAE;EACxC;EAEAC,QAAQA,CAAA;IACN,IAAI,IAAI,CAACN,SAAS,CAACO,OAAO,EAAE;MAC1BC,OAAO,CAACC,KAAK,CAAC,iBAAiB,CAAC;MAChC;;IAGF,MAAMC,SAAS,GAAG;MAChBR,QAAQ,EAAE,IAAI,CAACF,SAAS,CAACK,GAAG,CAAC,UAAU,CAAC,EAAEM,KAAK;MAC/CP,QAAQ,EAAE,IAAI,CAACJ,SAAS,CAACK,GAAG,CAAC,UAAU,CAAC,EAAEM;KAC3C;IAEDH,OAAO,CAACI,GAAG,CAAC,aAAa,EAAEF,SAAS,CAAC,CAAC,CAAC;IAEvC,IAAI,CAACd,cAAc,CAACiB,KAAK,CAACH,SAAS,CAAC,CAACI,SAAS,CAAC;MAC7CC,IAAI,EAAGC,QAAQ,IAAI;QACjBR,OAAO,CAACI,GAAG,CAAC,mBAAmB,EAAEI,QAAQ,CAAC;QAC1C,MAAMC,SAAS,GAAG,IAAI,CAACnB,KAAK,CAACoB,QAAQ,CAACC,WAAW,CAAC,WAAW,CAAC,IAAI,OAAO;QACzE,IAAI,CAACtB,MAAM,CAACuB,QAAQ,CAAC,CAACH,SAAS,CAAC,CAAC;MACnC,CAAC;MACDR,KAAK,EAAGA,KAAK,IAAI;QACfD,OAAO,CAACC,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;QACrC,IAAI,CAACV,YAAY,GAAG,8BAA8B;MACpD;KACD,CAAC;EACJ;CAED;AA7CYN,cAAc,GAAA4B,UAAA,EAL1B9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,C,EACW/B,cAAc,CA6C1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}